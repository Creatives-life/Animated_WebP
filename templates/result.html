<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Results</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: system-ui, Arial; max-width: 900px; margin: 40px auto; padding: 0 20px;}
    table { border-collapse: collapse; width:100% }
    th, td { border: 1px solid #ddd; padding:8px }
  </style>
</head>
<body>
  <h1>Processed files</h1>
  <table>
    <thead><tr><th>Original filename</th><th>Original KB</th><th>Compressed KB</th><th>Download</th><th>Status</th></tr></thead>
    <tbody>
      {% for p in processed %}
        <tr>
          <td>{{ p.original }}</td>
          <td>{{ p.original_size_kb if p.original_size_kb is defined else '-' }}</td>
          <td>{{ p.output_size_kb if p.output_size_kb is defined else '-' }}</td>
          <td>
            {% if p.output %}
              <a href="{{ url_for('download_file', filename=p.output) }}">Download</a>
            {% else %}
              -
            {% endif %}
          </td>
          <td>{{ p.error if p.error is defined else 'OK' }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <p><a href="{{ url_for('index') }}">Process more files</a></p>
</body>
</html>
